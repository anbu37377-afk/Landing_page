<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard - NovaSaaS</title>
  <link rel="stylesheet" href="../assets/css/style.css" />
  <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg" />
  <link rel="apple-touch-icon" href="../assets/favicon.svg" />
  <script defer src="../assets/js/app.js"></script>
</head>

<body onload="updateNavbarAuth()">

<!-- MOBILE-FIRST HEADER -->
<header class="site-header">
  <div class="header-container">
    
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <!-- Brand Logo (Centered) -->
    <div class="brand-center">
      <div class="brand-logo"></div>
      <span class="brand-name">NovaSaaS</span>
    </div>

    <!-- Desktop Navigation -->
    <nav class="desktop-nav">
      <a href="../index.html" class="nav-link">Home 1</a>
      <a href="../home2.html" class="nav-link">Home 2</a>
      <a href="../services.html" class="nav-link">Services</a>
      <a href="../blog.html" class="nav-link">Blog</a>
      <a href="../about.html" class="nav-link">About</a>
      <a href="../contact.html" class="nav-link">Contact</a>
      <a href="./dashboard.html" class="nav-link active">Dashboard</a>
    </nav>

    <!-- Desktop Auth -->
    <div class="desktop-auth">
      <button class="btn btn-ghost" onclick="toggleTheme()" aria-label="Toggle theme">
        <span id="themeIcon">ğŸŒ™</span>
      </button>
      <a href="../auth/login.html" class="btn btn-ghost">Login</a>
      <a href="../auth/signup.html" class="btn btn-primary">Sign Up</a>
    </div>

    <!-- Dashboard Mobile Menu Icon (Mobile Only) -->
    <button class="dashboard-mobile-menu-toggle" id="dashboardMobileMenuToggle" aria-label="Toggle dashboard menu">
      <span class="menu-icon">â‹®</span>
    </button>

  </div>

  <!-- Mobile Navigation Menu -->
  <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
  <div class="mobile-nav-menu" id="mobileNavMenu">
    <div class="mobile-nav-header">
      <div class="mobile-nav-title">Menu</div>
      <button class="mobile-nav-close" id="mobileNavClose" aria-label="Close menu">
        <span class="close-line"></span>
        <span class="close-line"></span>
      </button>
    </div>
    
    <div class="mobile-nav-content">
      <ul class="mobile-nav-list">
        <li><a href="../index.html" class="mobile-nav-link">Home 1</a></li>
        <li><a href="../home2.html" class="mobile-nav-link">Home 2</a></li>
        <li><a href="../services.html" class="mobile-nav-link">Services</a></li>
        <li><a href="../service-details.html" class="mobile-nav-link">Service Details</a></li>
        <li><a href="../blog.html" class="mobile-nav-link">Blog</a></li>
        <li><a href="../blog-details.html" class="mobile-nav-link">Blog Details</a></li>
        <li><a href="../about.html" class="mobile-nav-link">About</a></li>
        <li><a href="../contact.html" class="mobile-nav-link">Contact</a></li>
        <li><a href="./dashboard.html" class="mobile-nav-link active">Dashboard</a></li>
      </ul>
      
      <div class="mobile-nav-divider"></div>
      
      <ul class="mobile-nav-list">
        <li><a href="../auth/login.html" class="mobile-nav-link">Login</a></li>
        <li><a href="../auth/signup.html" class="mobile-nav-link">Sign Up</a></li>
      </ul>
    </div>
  </div>

  <!-- Dashboard Mobile Menu Overlay (Mobile Only) -->
  <div class="dashboard-mobile-overlay" id="dashboardMobileOverlay"></div>
  <div class="dashboard-mobile-menu" id="dashboardMobileMenu">
    <div class="dashboard-mobile-header">
      <div class="dashboard-mobile-title">NovaSaaS</div>
      <button class="dashboard-mobile-close" id="dashboardMobileClose" aria-label="Close menu">
        <span class="close-line"></span>
        <span class="close-line"></span>
      </button>
    </div>
    
    <div class="dashboard-mobile-content">
      <ul class="dashboard-mobile-list">
        <li><a href="./dashboard.html" class="dashboard-mobile-link">ğŸ“Š Dashboard</a></li>
        <li><a href="../services.html" class="dashboard-mobile-link">ğŸ›  Services</a></li>
        <li><a href="../blog.html" class="dashboard-mobile-link">ğŸ“ Blog</a></li>
        <li><a href="../contact.html" class="dashboard-mobile-link">ğŸ’¬ Support</a></li>
        <li><a href="../index.html" class="dashboard-mobile-link">ğŸŒ Back Website</a></li>
      </ul>
      
      <div class="dashboard-mobile-divider"></div>
      
      <ul class="dashboard-mobile-list">
        <li><button class="dashboard-mobile-link" onclick="logout()">ğŸšª Logout</button></li>
        <li><button class="dashboard-mobile-link" onclick="toggleTheme()">ğŸŒ“ Toggle Theme</button></li>
      </ul>
    </div>
  </div>
</header>

<div class="dashboard-layout" style="margin-top: 80px;">

  <!-- âœ… SIDEBAR -->
  <aside class="sidebar" id="sidebar">
    <a class="brand" href="../index.html">
      <div class="logo"></div>
      <span>NovaSaaS</span>
    </a>

    <div class="sidebar-links">
      <!-- âœ… FIXED PATH -->
      <a class="active" href="./dashboard.html">ğŸ“Š Dashboard</a>
      <a href="../services.html">ğŸ›  Services</a>
      <a href="../blog.html">ğŸ“ Blog</a>
      <a href="../contact.html">ğŸ’¬ Support</a>
      <a href="../index.html">ğŸŒ Back Website</a>

      <!-- âœ… logout button -->
      <button class="btn btn-accent" style="margin-top:12px; width:100%;" onclick="logout()">
        ğŸšª Logout
      </button>

      <!-- âœ… theme toggle -->
      <button class="btn btn-theme" style="margin-top:10px; width:100%;" onclick="toggleTheme()">
        ğŸŒ“ Toggle Theme
      </button>
    </div>
  </aside>

  <!-- âœ… MAIN CONTENT -->
  <main class="dashboard-main">

    <!-- Dashboard content starts here -->
    <div class="card">
      <h2>SaaS Dashboard</h2>
      <p class="lead">Welcome back! Here's your startup overview.</p>

      <!-- âœ… KPI CARDS -->
      <div class="kpi-grid">
        <div class="card kpi">
          <p class="small">Total Users</p>
          <strong>1,248</strong>
        </div>
        <div class="card kpi">
          <p class="small">Monthly Revenue (MRR)</p>
          <strong>$9,320</strong>
        </div>
        <div class="card kpi">
          <p class="small">Signup Conversion</p>
          <strong>12.6%</strong>
        </div>
      </div>

      <!-- âœ… PROFILE -->
      <div style="margin-top:16px;" class="card">
        <h3>Account Profile</h3>
        <p id="userArea" class="lead"></p>
        <p class="small">
          This is a frontend demo SaaS dashboard (HTML/CSS/JS). You can connect backend later for real analytics.
        </p>
      </div>

      <!-- âœ… QUICK ACTIONS -->
      <div style="margin-top:16px;" class="card">
        <h3>Quick Actions</h3>
        <p class="lead">Use quick actions to manage your SaaS startup faster.</p>

        <div class="hero-actions">
          <button class="btn btn-primary" onclick="alert('Feature Coming Soon âœ…')">Create Campaign</button>
          <button class="btn btn-ghost" onclick="alert('Feature Coming Soon âœ…')">Invite Member</button>
          <button class="btn btn-ghost" onclick="alert('Feature Coming Soon âœ…')">View Analytics</button>
        </div>

        <p class="small" style="margin-top:10px;">
          These are demo buttons. You can connect real features using Firebase/Auth0 later.
        </p>
      </div>

      <!-- âœ… RECENT ACTIVITY -->
      <div style="margin-top:16px;" class="card">
        <h3>Recent Activity</h3>
        <p class="lead">Latest updates from your SaaS workspace.</p>

        <div class="grid-3" style="margin-top:14px;">
          <div class="card feature">
            <div class="icon-pill">âœ…</div>
            <h3>Signup Successful</h3>
            <p>Your account was created and dashboard access is active.</p>
            <p class="small">Just Now</p>
          </div>

          <div class="card feature">
            <div class="icon-pill">ğŸ“ˆ</div>
            <h3>Conversion Improved</h3>
            <p>Landing page CTA engagement increased by 8% this week.</p>
            <p class="small">2 hours ago</p>
          </div>

          <div class="card feature">
            <div class="icon-pill">ğŸ“</div>
            <h3>Blog Module Ready</h3>
            <p>Your SaaS blog pages are ready to publish growth content.</p>
            <p class="small">Yesterday</p>
          </div>
        </div>
      </div>

      <!-- âœ… GROWTH INSIGHTS -->
      <div style="margin-top:16px;" class="card">
        <h3>Growth Insights</h3>
        <p class="lead">Recommended actions to grow your SaaS faster.</p>

        <ul class="ul">
          <li>Add testimonials + trust badges on homepage to boost signups</li>
          <li>Use pricing comparison cards to increase upgrades</li>
          <li>Publish 1 SEO blog per week for traffic growth</li>
          <li>Simplify onboarding steps to reduce churn</li>
        </ul>

        <div class="hero-actions" style="margin-top:12px;">
          <a class="btn btn-primary" href="../blog.html">Read SaaS Blog</a>
          <a class="btn btn-ghost" href="../services.html">Upgrade Services</a>
        </div>
      </div>

    </div>
  </main>

</div>

<script>
// MOBILE-FIRST HEADER FUNCTIONALITY
document.addEventListener('DOMContentLoaded', function() {
  const mobileMenuToggle = document.getElementById('mobileMenuToggle');
  const mobileNavMenu = document.getElementById('mobileNavMenu');
  const mobileNavOverlay = document.getElementById('mobileNavOverlay');
  const mobileNavClose = document.getElementById('mobileNavClose');
  
  if (mobileMenuToggle && mobileNavMenu && mobileNavOverlay && mobileNavClose) {
    // Open mobile menu
    function openMobileMenu() {
      mobileMenuToggle.classList.add('active');
      mobileNavMenu.classList.add('active');
      mobileNavOverlay.classList.add('active');
      document.body.style.overflow = 'hidden';
      mobileMenuToggle.setAttribute('aria-expanded', 'true');
    }
    
    // Close mobile menu
    function closeMobileMenu() {
      mobileMenuToggle.classList.remove('active');
      mobileNavMenu.classList.remove('active');
      mobileNavOverlay.classList.remove('active');
      document.body.style.overflow = '';
      mobileMenuToggle.setAttribute('aria-expanded', 'false');
    }
    
    // Toggle menu on hamburger click
    mobileMenuToggle.addEventListener('click', function() {
      if (mobileNavMenu.classList.contains('active')) {
        closeMobileMenu();
      } else {
        openMobileMenu();
      }
    });
    
    // Close menu on close button click
    mobileNavClose.addEventListener('click', closeMobileMenu);
    
    // Close menu on overlay click
    mobileNavOverlay.addEventListener('click', closeMobileMenu);
    
    // Close menu on link click
    const mobileNavLinks = mobileNavMenu.querySelectorAll('.mobile-nav-link');
    mobileNavLinks.forEach(link => {
      link.addEventListener('click', closeMobileMenu);
    });
    
    // Handle window resize
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        closeMobileMenu();
      }
    });
    
    // Handle escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && mobileNavMenu.classList.contains('active')) {
        closeMobileMenu();
      }
    });
  }

  // Dashboard Mobile Menu Functionality (Mobile Only)
  const dashboardMobileMenuToggle = document.getElementById('dashboardMobileMenuToggle');
  const dashboardMobileMenu = document.getElementById('dashboardMobileMenu');
  const dashboardMobileOverlay = document.getElementById('dashboardMobileOverlay');
  const dashboardMobileClose = document.getElementById('dashboardMobileClose');
  
  if (dashboardMobileMenuToggle && dashboardMobileMenu && dashboardMobileOverlay && dashboardMobileClose) {
    // Open dashboard mobile menu
    function openDashboardMobileMenu() {
      console.log('Opening dashboard mobile menu'); // Debug log
      dashboardMobileMenuToggle.classList.add('active');
      dashboardMobileMenu.classList.add('active');
      dashboardMobileOverlay.classList.add('active');
      document.body.style.overflow = 'hidden';
      dashboardMobileMenuToggle.setAttribute('aria-expanded', 'true');
      console.log('Classes added:', dashboardMobileMenu.className); // Debug log
    }
    
    // Close dashboard mobile menu
    function closeDashboardMobileMenu() {
      console.log('Closing dashboard mobile menu'); // Debug log
      dashboardMobileMenuToggle.classList.remove('active');
      dashboardMobileMenu.classList.remove('active');
      dashboardMobileOverlay.classList.remove('active');
      document.body.style.overflow = '';
      dashboardMobileMenuToggle.setAttribute('aria-expanded', 'false');
    }
    
    // Toggle menu on dashboard menu icon click
    dashboardMobileMenuToggle.addEventListener('click', function() {
      console.log('Dashboard menu toggle clicked'); // Debug log
      if (dashboardMobileMenu.classList.contains('active')) {
        console.log('Closing dashboard menu'); // Debug log
        closeDashboardMobileMenu();
      } else {
        console.log('Opening dashboard menu'); // Debug log
        openDashboardMobileMenu();
      }
    });
    
    // Close menu on close button click
    dashboardMobileClose.addEventListener('click', closeDashboardMobileMenu);
    
    // Close menu on overlay click
    dashboardMobileOverlay.addEventListener('click', closeDashboardMobileMenu);
    
    // Close menu on option click
    const dashboardMobileLinks = dashboardMobileMenu.querySelectorAll('.dashboard-mobile-link');
    dashboardMobileLinks.forEach(link => {
      link.addEventListener('click', closeDashboardMobileMenu);
    });
    
    // Handle window resize
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        closeDashboardMobileMenu();
      }
    });
    
    // Handle escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && dashboardMobileMenu.classList.contains('active')) {
        closeDashboardMobileMenu();
      }
    });
  }
});

// âœ… Protect this page
const session = requireAuth();

if (session) {
  document.getElementById("userArea").innerHTML =
    `<b>User:</b> ${session.name} <br/> <b>Email:</b> ${session.email}`;
}

// âœ… Close sidebar after click (mobile UX)
document.querySelectorAll(".sidebar-links a").forEach(link => {
  link.addEventListener("click", () => {
    const sidebar = document.getElementById("sidebar");
    if (sidebar) sidebar.classList.remove("open");
  });
});
</script>

</body>
</html>